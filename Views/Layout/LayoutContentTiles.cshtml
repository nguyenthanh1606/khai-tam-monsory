@model Frontend.Models.LayoutContentViewModel
@using PagedList.Mvc;
@using PagedList;
@using Frontend.Infrastructure.ExtensionMethod;
@using Frontend.Infrastructure.Utility;

@{
    ViewBag.Title = Model.Group.Title;
    ViewBag.Description = Model.Group.Description.RemoveHtml();
    if (!string.IsNullOrEmpty(Model.Group.ImageUrl))
    {
        ViewBag.Image = Url.Content(Model.Group.ImageUrl, true);
    }
    string ComponentViewPath = "~/Themes/" + TabWeb.GetCurrentTheme() + "/Views/Component/{0}.cshtml";
    string themeHomeViewPath = "~/Themes/" + TabWeb.GetCurrentTheme() + "/Views/Home/{0}.cshtml";
}


<main class="main-wrapper">
    <section class="banner">
        @if (Model.Group.BannerUrl == null)
        {
            <div class="box-banner">
                @Resource.Updating
            </div>
        }
        else
        {
            <img class="img-fluid w-100" src="@Model.Group.BannerUrl" alt="" />
        }
    </section>
    <section class="bread">
        <div class="container wrapper breadcrumb-ds">
            @Html.Breadcrumb(BreadcrumbType.Group, Model.Group.GroupID, new { @class = "" })
        </div>
    </section>
    <section class="box-block">
        <div class="container">
            @if (Model.ListContent.Count() > 1)
            {
                <h1 class="title text-center">@Model.Group.Title</h1>
                <div class="description">
                    @Model.Group.Description.RemoveHtml()
                </div>
                <div class="tiles-card">
                    @foreach (var item in Model.ListContent)
                    {
                        <a href="@Url.CustomAction(Store.Service.SystemService.RoutingType.Content,item.ContentID)" class="post-item card-cs">
                            <div class="picture">
                                <img src="@item.PictureUrl" alt="@item.Headline" class="img-fluid" title="@item.Headline">
                            </div>
                            <div class="text">
                                <h3 class="name">
                                    @item.Headline
                                </h3>
                                <div class="summary">
                                    @item.Summary.RemoveHtml()
                                </div>
                            </div>
                        </a>
                    }
                </div>
                <div class="pagi text-center">
                    @Html.GetPageList(Model.Page, Model.PageSize, Model.TotalItems, htmlAttributes: new { @class = "pagination justify-content-center" })
                </div>
            }
            else if (Model.ListContent.Count() == 1)
            {
                var item = Model.ListContent.FirstOrDefault();
                <h1 class="title text-center">@item.Headline</h1>
                if (item.IntValue1 == 1)
                {
                    <div class="description">
                        @item.Summary
                    </div>
                }
                <div class="content">
                    @Html.Raw(item.Body)
                </div>
            }
            else
            {
                <h3>@Resource.Updating</h3>
            }
        </div>
    </section>
</main>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<g:page href="https://plus.google.com/{pageId}"></g:page>
<script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = "//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs); } }(document, "script", "twitter-wjs");</script>
