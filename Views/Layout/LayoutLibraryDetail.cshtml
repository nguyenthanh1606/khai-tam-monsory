@model Frontend.Models.LayoutContentDetailViewModel
@using Frontend.Infrastructure.ExtensionMethod;
@using Frontend.Infrastructure.Utility;
@{
    ViewBag.Title = Model.Content.Headline;
    ViewBag.Description = Model.Content.Summary.RemoveHtml();
    if (!Model.Content.CustomizeTitle.IsEmpty())
    {
        ViewBag.Title = Model.Content.CustomizeTitle;
    }
    //if (!Model.Content.CustomizeDescription.IsEmpty())
    //{
    //    ViewBag.Description = Model.Content.CustomizeDescription.RemoveHtml();
    //}
    if (Model.Content.PictureUrl != "")
    {
        ViewBag.Image = Model.Content.PictureUrl;
    }

    string ComponentViewPath = "~/Themes/" + TabWeb.GetCurrentTheme() + "/Views/Component/{0}.cshtml";
    string themeHomeViewPath = "~/Themes/" + TabWeb.GetCurrentTheme() + "/Views/Home/{0}.cshtml";
}
@section css{
<link href="~/Themes/Rustic/css/jquery.fancybox.css" rel="stylesheet" />
    }
@{ string bannerUrl = Model.Group.BannerUrl;}
@if (!Model.Content.BannerImages.IsEmpty())
{
    bannerUrl = Model.Content.BannerImages;
}

<main class="main-wrapper">
    <section class="banner">
        @if (Model.Group.BannerUrl == null)
        {
            <div class="box-banner">
                @Resource.Updating
            </div>
        }
        else
        {
            <img class="img-fluid w-100" src="@Model.Group.BannerUrl" alt="" />
        }
    </section>
    <section class="bread">
        <div class="container wrapper breadcrumb-ds">
            @Html.Breadcrumb(BreadcrumbType.Group, Model.Group.GroupID, new { @class = "" })
        </div>
    </section>
    <section class="box-block">
        <div class="container">
            <h1 class="title text-center">@Model.Content.Headline</h1>
            <div class="summary">
                @Model.Content.Summary.RemoveHtml()
            </div>
            <div class="content">

                @if (Model.Content.Video.Count() > 0)
                {
                    for (int i = 0, l = Model.Content.Video.Count(); i < l; i++)
                    {
                        <div class="row mb-3 justify-content-center">
                            <div class="col-md-6">
                                <div class="thumb-video">
                                    <div class="thumnails-content">
                                        <iframe src="@Model.Content.Video[i]" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                    </div>
                                </div>
                            </div>                            
                        </div>
                    }
                }
                @if (Model.Content.Picture.Count() > 0)
                {
                    <div class="tiles-card">
                        @for (int i = 0, l = Model.Content.Picture.Count(); i < l; i++)
                        {
                            <div class="img_gallery card-cs">
                                <a class="picture" href="@Model.Content.Picture[i]" data-fancybox="images">
                                    <img src="@Model.Content.Picture[i]" alt="@Model.Content.Headline" class="img-fluid img-fix w-100" />
                                </a>
                            </div>
                        }
                    </div>                    
                }


            </div>
        </div>
    </section>
</main>
@section js{
<script src="~/Themes/Rustic/scripts/jquery.fancybox.js"></script>
    }
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<g:page href="https://plus.google.com/{pageId}"></g:page>
<script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = "//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs); } }(document, "script", "twitter-wjs");</script>

@helper Ext(string url)
{
string ext = "";
if (url.EndsWith(".pdf"))
{
    ext = "PDF";
}
else if (url.EndsWith(".doc"))
{
    ext = "DOC";
}
else if (url.EndsWith(".docx"))
{
    ext = "DOCX";
}
else if (url.EndsWith(".xls"))
{
    ext = "XLS";
}
else if (url.EndsWith(".xlsx"))
{
    ext = "XLSX";
}
else if (url.EndsWith(".ppt"))
{
    ext = "PPT";
}
else if (url.EndsWith(".zip"))
{
    ext = "ZIP";
}
else if (url.EndsWith(".rar"))
{
    ext = "RAR";
}
else if (url.EndsWith(".txt"))
{
    ext = "TXT";
}
    <p>@ext</p>
}
